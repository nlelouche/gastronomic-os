Como Chief Gastronomic Architect, he consolidado la lógica de las 45 recetas integrando el Diccionario de Ingredientes Críticos, la Matriz de Sustitución y los nuevos Estilos de Vida (Whole30, High Performance, Mediterránea, etc.).
Cada receta ahora funciona como un algoritmo dinámico que protege al usuario mediante capas de seguridad clínica1111. Se han aplicado las siguientes reglas maestras:
+1


* Seguridad APLV: Prohibición de productos "sin lactosa" y exclusión de caseinatos2222.
+1

* Seguridad Renal: Lixiviación obligatoria (remojo 4h) para reducir potasio y control de aditivos "PHOS"3333.
+1

* Seguridad Celiaca: Uso de granos certificados y prevención de harinas en suspensión4444.
+1

* Seguridad Histamina: Aplicación del protocolo SIGHI (sin tomate, espinaca ni claras de huevo)5555.
+1

A continuación, el JSON Array maestro (bloque representativo de alta complejidad):


JSON




[
 {
   "id": "GOS-01",
   "title": "Pollo al Limón con Arroz y Vegetales",
   "description": "Base mediterránea optimizada para alto rendimiento y salud metabólica[cite: 338].",
   "tags": ["Mediterranean", "High-Performance", "Anti-Inflammatory"],
   "ingredients": ["Pechuga de pollo", "Arroz integral", "Zanahoria", "Calabacín", "AOVE", "Limón", "Ajo", "Cebolla", "Sal marina"],
   "steps": [
     {
       "instruction": "Cocer el arroz integral con una pizca de sal marina[cite: 485].",
       "is_branch_point": true,
       "variant_logic": {
         "Keto": "Sustituir por Arroz de Coliflor (200g)[cite: 485].",
         "Renal": "Usar Arroz Blanco (bajo fósforo orgánico)[cite: 491]. Omitir sal.",
         "High Performance": "Aumentar porción de arroz integral para carga de glucógeno[cite: 305].",
         "Low FODMAP": "Usar Arroz Blanco; el integral puede ser irritante en fase de eliminación[cite: 236]."
       }
     },
     {
       "instruction": "Sofreír ajo y cebolla en AOVE hasta que estén dorados[cite: 485].",
       "is_branch_point": true,
       "variant_logic": {
         "Low FODMAP": "Usar Aceite Infusionado en Ajo (sin sólidos). NO usar cebolla[cite: 225].",
         "Histamine": "Saltar sofrito. Usar solo AOVE fresco para evitar liberadores[cite: 487].",
         "Whole30": "Asegurar que el AOVE no contenga aditivos ni conservantes[cite: 327].",
         "Diabetes": "Aumentar la cantidad de cebolla por su contenido en fibra y quercetina[cite: 305]."
       }
     },
     {
       "instruction": "Añadir zumo de limón fresco y cocinar 3 minutos más[cite: 485].",
       "is_branch_point": true,
       "variant_logic": {
         "Histamine": "NO usar limón (liberador de histamina). Sustituir por pizca de ácido ascórbico[cite: 261].",
         "APLV": "Asegurar que el pollo no tenga 'brine' con caseinatos lácteos[cite: 98].",
         "Paleo": "Sin cambios; el limón es un ingrediente ancestral permitido[cite: 322]."
       }
     }
   ]
 },
 {
   "id": "GOS-05",
   "title": "Steak & Eggs Power Bowl",
   "description": "Potencia proteica con control estricto de alérgenos y frescura[cite: 493].",
   "tags": ["Keto", "Paleo", "High-Protein"],
   "ingredients": ["Ternera magra", "Huevo entero", "Aguacate", "Espinaca cocida", "AOVE", "Sal"],
   "steps": [
     {
       "instruction": "Sellar la ternera magra al punto deseado en AOVE[cite: 493].",
       "is_branch_point": true,
       "variant_logic": {
         "Histamine": "Carne fresca recién comprada; prohibido carne madurada o sobras[cite: 246].",
         "Renal": "Limitar porción a 100g para control de carga proteica[cite: 271].",
         "Pescetarian": "Sustituir ternera por lomo de Atún fresco[cite: 176].",
         "APLV": "No sellar con mantequilla; usar exclusivamente AOVE[cite: 342]."
       },
       "cross_contamination_alert": "En APLV, asegurar que la plancha no haya tenido contacto con quesos[cite: 97]."
     },
     {
       "instruction": "Preparar el huevo (frito o escalfado)[cite: 493].",
       "is_branch_point": true,
       "variant_logic": {
         "Histamine": "Usar SOLO la yema. La clara es un liberador de histamina[cite: 262].",
         "Vegan": "Sustituir por Tofu revuelto con cúrcuma o 'Huevo de Lino'[cite: 353].",
         "Egg-Free": "Sustituir por 1/2 taza de champiñones salteados (si no es FODMAP)[cite: 232].",
         "Diabetes": "Preparar escalfado para evitar exceso de grasas de fritura[cite: 304]."
       }
     },
     {
       "instruction": "Incorporar aguacate y espinaca cocida[cite: 493].",
       "is_branch_point": true,
       "variant_logic": {
         "Low FODMAP": "Limitar aguacate a 1/8 de pieza (30g) por contenido de sorbitol[cite: 232].",
         "Renal": "Lixiviar la espinaca (remojo 4h) y limitar aguacate por potasio[cite: 281, 276].",
         "Whole30": "Sin cambios; ambos son superalimentos permitidos[cite: 322].",
         "High Performance": "Duplicar ración de espinaca por su contenido en nitratos naturales[cite: 305]."
       }
     }
   ]
 },
 {
   "id": "GOS-22",
   "title": "Curry de Lentejas Vegano",
   "description": "Proteína vegetal ética con optimización de biodisponibilidad[cite: 47, 48].",
   "tags": ["Vegan", "Gluten-Free", "Low-Phos"],
   "ingredients": ["Lentejas rojas", "Calabaza", "Espinacas", "Leche de coco", "Cúrcuma", "Comino"],
   "steps": [
     {
       "instruction": "Cocer lentejas rojas con calabaza y especias[cite: 47].",
       "is_branch_point": true,
       "variant_logic": {
         "Low FODMAP": "Usar lentejas de lata enjuagadas (<1/2 taza); los GOS se eliminan en el líquido[cite: 228, 510].",
         "Renal": "Lixiviar la calabaza. Las lentejas tienen fósforo orgánico de baja absorción (40-60%)[cite: 288].",
         "Keto": "Sustituir lentejas por Tofu firme picado para bajar carbohidratos netos[cite: 237].",
         "Whole30": "Sustituir lentejas por carne de res picada (las legumbres están prohibidas)[cite: 320]."
       }
     },
     {
       "instruction": "Añadir leche de coco y espinacas al final[cite: 47].",
       "is_branch_point": true,
       "variant_logic": {
         "APLV": "Verificar que la leche de coco no contenga caseinato de sodio como espesante[cite: 101].",
         "Histamine": "Omitir espinacas (liberador). Sustituir por acelgas muy frescas[cite: 261, 266].",
         "Vegan": "Validar que el caldo no tenga colorante E120 (Carmín de insectos)[cite: 334].",
         "Diabetes": "Asegurar que la leche de coco sea natural, sin azúcares añadidos[cite: 300]."
       }
     }
   ]
 },
 {
   "id": "GOS-41",
   "title": "Pastel de Carne 'Potassium-Controlled'",
   "description": "Gestión de electrolitos para salud renal sin perder palatabilidad[cite: 24, 25].",
   "tags": ["Renal", "Low-Potassium", "Whole30"],
   "ingredients": ["Res fresca picada", "Zanahoria", "Calabaza", "Hierbas secas"],
   "steps": [
     {
       "instruction": "Pelar, cortar y remojar zanahoria y calabaza por 4 horas (Lixiviación)[cite: 281, 24].",
       "is_branch_point": true,
       "variant_logic": {
         "Omnivore": "Saltar remojo si no hay restricción renal de potasio[cite: 350].",
         "Keto": "Sustituir calabaza por apionabo (menor carga glucémica)[cite: 310].",
         "Histamine": "Asegurar que la res sea picada en el momento; evitar carnes procesadas[cite: 246].",
         "Low FODMAP": "Calabaza permitida en ración moderada; evitar cebolla en el aderezo[cite: 232]."
       },
       "cross_contamination_alert": "Desechar el agua del remojo; contiene el potasio extraído[cite: 281]."
     },
     {
       "instruction": "Mezclar carne con vegetales y hornear[cite: 24].",
       "is_branch_point": true,
       "variant_logic": {
         "APLV": "Prohibido añadir queso o leche para suavizar la mezcla[cite: 83].",
         "Celiac": "No usar migas de pan; usar harina de almendras certificada o lino[cite: 207].",
         "Vegan": "Sustituir res por Lentejas y nueces picadas (si no hay alergia)[cite: 353].",
         "High Performance": "Añadir 1 clara de huevo (si no es alérgico) para mayor estabilidad proteica[cite: 109]."
       }
     }
   ]
 }
]

Próximo Paso Sugerido
¿Te gustaría que generara el prompt de sistema definitivo para tu IA, de modo que cada vez que un usuario ingrese una receta nueva, la transforme automáticamente a este formato JSON respetando todas las reglas de la matriz?